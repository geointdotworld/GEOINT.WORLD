<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GEOINT.WORLD</title>
    <link rel="icon" href="/favicon.ico" sizes="32x32">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#ff6800">

    <!-- Preload Application Page and Core Dependencies -->
    <link rel="prerender" href="datamap.html">
    <link rel="prefetch" href="datamap.html">
    <link rel="stylesheet" href="css/style.css?v=120">
    <link rel="prefetch" href="https://unpkg.com/maplibre-gl@5.0.0/dist/maplibre-gl.js">
    <link rel="prefetch" href="https://unpkg.com/maplibre-gl@5.0.0/dist/maplibre-gl.css">
    <link rel="prefetch" href="js/utils.js?v=120">
    <link rel="prefetch" href="js/globals.js?v=120">
    <link rel="prefetch" href="js/map.js?v=120">
    <link rel="prefetch" href="js/ui.js?v=120">
    <link rel="prefetch" href="https://tiles.openfreemap.org/planet">
    <style>
        :root {
            --primary: #ff6800;
            --bg: #000;
            --grid: #1a1a1a;
            --dim: #666;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html,
        body {
            overflow-x: hidden;
            max-width: 100vw;
        }

        body {
            background: var(--bg);
            color: var(--primary);
            font-family: 'Courier New', monospace;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px 0 80px;
            position: relative;
        }

        .grid-floor {
            position: fixed;
            bottom: -50%;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(var(--grid) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid) 1px, transparent 1px);
            background-size: 50px 50px;
            transform: perspective(600px) rotateX(60deg);
            transform-origin: center bottom;
            opacity: 0.3;
            z-index: 0;
            pointer-events: none;
            animation: gridMove 20s linear infinite;
        }

        @keyframes gridMove {
            to {
                transform: perspective(600px) rotateX(60deg) translateY(50px);
            }
        }

        .scanlines {
            position: fixed;
            inset: 0;
            background: linear-gradient(to bottom, rgba(255, 104, 0, 0.03) 50%, transparent 50%);
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 100;
            opacity: 0.6;
        }

        .container {
            position: relative;
            text-align: center;
            z-index: 10;
            width: 100%;
            max-width: 900px;
            padding: 100px 40px 30px;
            background: linear-gradient(180deg, rgba(10, 10, 10, 0.95), rgba(0, 0, 0, 0.98));
            border: 1px solid rgba(255, 104, 0, 0.3);
            border-top: 2px solid var(--primary);
            border-bottom: 2px solid var(--primary);
            box-shadow: 0 0 120px #000;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            font-size: 6rem;
            font-weight: bold;
            letter-spacing: -2px;
            margin-bottom: 20px;
            text-transform: uppercase;
            text-shadow: 0 0 20px rgba(255, 104, 0, 0.8);
            transform: scaleY(1.2);
            line-height: 1;
        }


        .terminal-box {
            height: 40px;
            margin-bottom: 40px;
            color: var(--dim);
            font-size: 0.9rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            display: flex;
            align-items: center;
        }

        .cursor {
            width: 8px;
            background: var(--primary);
            margin-left: 5px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            50% {
                opacity: 0;
            }
        }

        .btn {
            padding: 22px 70px;
            background: rgba(255, 104, 0, 0.05);
            color: var(--primary);
            text-decoration: none;
            font-size: 1.4rem;
            font-weight: 900;
            border: 1px solid var(--primary);
            letter-spacing: 4px;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(255, 104, 0, 0.1);
            animation: btnPulse 4s infinite;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        .btn:hover {
            background: var(--primary);
            color: #000;
            box-shadow: 0 0 60px rgba(255, 104, 0, 0.5);
            transform: scale(1.02);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 104, 0, 0.4), transparent);
            transition: 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        @keyframes btnPulse {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(255, 104, 0, 0.1);
                border-color: rgba(255, 104, 0, 0.5);
            }

            50% {
                box-shadow: 0 0 40px rgba(255, 104, 0, 0.3);
                border-color: var(--primary);
            }
        }

        .metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            width: 100%;
            margin-top: 60px;
            border-top: 1px solid rgba(255, 104, 0, 0.2);
            padding-top: 30px;
        }

        .metric {
            background: rgba(255, 104, 0, 0.02);
            border: 1px solid rgba(255, 104, 0, 0.15);
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .metric-val {
            font-size: 1.5rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 104, 0, 0.5);
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.8;
        }

        .loading-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: var(--primary);
            width: 0;
            animation: load 1.5s ease-out forwards;
            box-shadow: 0 0 15px var(--primary);
            z-index: 200;
        }

        @keyframes load {
            to {
                width: 100%;
            }
        }

        .info-box {
            margin-top: 0;
            width: 100%;
            max-width: 900px;
            background: rgba(10, 10, 10, 0.95);
            border: 1px solid var(--primary);
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            z-index: 10;
            display: grid;
            grid-template-columns: 1fr 1fr;
            overflow: hidden;
            position: relative;
        }

        .info-box::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(rgba(255, 104, 0, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 104, 0, 0.03) 1px, transparent 1px);
            background-size: 20px 20px;
            pointer-events: none;
        }

        .info-left {
            padding: 40px;
            text-align: left;
            border-right: 1px solid rgba(255, 104, 0, 0.2);
            position: relative;
            z-index: 1;
        }

        .info-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
            display: flex;
            align-items: center;
        }

        .info-title::before {
            content: '>>';
            margin-right: 10px;
            animation: blink 1s infinite;
        }

        .info-text {
            color: #ccc;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .features {
            padding: 40px;
            background: rgba(0, 0, 0, 0.4);
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .feat {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            color: #ddd;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .feat-icon {
            color: var(--primary);
            margin-right: 10px;
            font-weight: bold;
        }

        .version {
            position: absolute;
            bottom: 30px;
            font-size: 0.8rem;
            color: #444;
        }

        .version a {
            color: inherit;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .version a:hover {
            color: var(--primary);
            text-shadow: 0 0 8px rgba(255, 104, 0, 0.6);
        }

        @media (max-width: 768px) {
            body {
                padding: 20px 10px 40px;
            }

            .container,
            .info-box {
                width: calc(100% - 20px);
                padding: 80px 15px 25px;
                max-width: none;
                margin: 0 auto;
            }

            h1 {
                font-size: 2.5rem;
            }


            .terminal-box {
                font-size: 0.65rem;
                height: 50px;
                text-align: center;
            }

            .btn {
                padding: 16px 30px;
                font-size: 1rem;
                width: 100%;
                letter-spacing: 2px;
            }

            .metrics {
                gap: 8px;
            }

            .metric {
                padding: 10px 5px;
            }

            .metric-val {
                font-size: 0.9rem;
            }

            .metric-label {
                font-size: 0.5rem;
                letter-spacing: 1px;
            }

            .info-box {
                grid-template-columns: 1fr;
                margin-top: 0;
                width: calc(100% - 20px);
                padding: 0;
            }

            .info-left {
                border-right: none;
                border-bottom: 1px solid rgba(255, 104, 0, 0.2);
                padding: 25px 15px;
            }

            .info-title {
                font-size: 1rem;
            }

            .info-text {
                font-size: 0.85rem;
            }

            .features {
                padding: 25px 15px;
            }

            .feat {
                font-size: 0.75rem;
                margin-bottom: 18px;
            }

            .version {
                position: static;
                margin-top: 20px;
                text-align: center;
            }
        }

        @media (max-width: 400px) {
            h1 {
                font-size: 2rem;
            }


            .metric-val {
                font-size: 0.8rem;
            }

            .btn {
                padding: 14px 20px;
                font-size: 0.9rem;
            }
        }

        /* Quick Links Row */
        .quick-links {
            display: flex;
            gap: 5px;
            margin: 15px 0;
            width: 100%;
            max-width: 900px;
            justify-content: center;
        }

        .quick-btn {
            flex: 1;
            background: rgba(10, 10, 10, 0.95);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 8px;
            text-align: center;
            text-decoration: none;
            font-weight: bold;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.2s;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            -webkit-backdrop-filter: blur(5px);
            backdrop-filter: blur(5px);
        }

        .quick-btn:hover {
            background: var(--primary);
            color: #000;
            box-shadow: 0 0 15px rgba(255, 104, 0, 0.4);
            transform: translateY(-1px);
        }

        @media (max-width: 768px) {
            .quick-links {
                flex-direction: row;
                /* Keep horizontal on mobile if they fit, or stack if needed. User wants "thinner", typically rows fit better. */
                gap: 5px;
                margin: 15px 0;
                width: calc(100% - 20px);
            }

            .quick-btn {
                padding: 10px;
                font-size: 0.7rem;
                /* Smaller on mobile */
                letter-spacing: 1px;
            }
        }
    </style>
</head>

<body>
    <div class="scanlines"></div>
    <div class="loading-bar"></div>
    <div class="grid-floor"></div>

    <div class="container">
        <a href="https://x.com/geointdotworld" target="_blank"
            style="position: absolute; top: 20px; right: 20px; width: 30px; height: 30px; z-index: 20;">
            <img src="assets/x_logo.png" alt="X" style="width: 100%; height: 100%; object-fit: contain;">
        </a>

        <h1>GEOINT.WORLD</h1>

        <div class="terminal-box">
            <div id="terminal"></div>
            <span class="cursor">_</span>
        </div>

        <a href="datamap.html" class="btn">LAUNCH APP</a>

        <div class="metrics">
            <div class="metric"><span class="metric-val">GLOBAL</span><span class="metric-label">COVERAGE</span></div>
            <div class="metric"><span class="metric-val" id="latency">...</span><span
                    class="metric-label">LATENCY</span></div>
            <div class="metric"><span class="metric-val" style="color:#0f0;text-shadow:0 0 10px #0f0">LIVE</span><span
                    class="metric-label">FEED STATUS</span></div>
        </div>
    </div>

    <!-- NEW BUTTON ROW -->
    <div class="quick-links">
        <a href="docs/index.html" class="quick-btn">DOCS</a>
        <a href="whitepaper.pdf?v=120" target="_blank" class="quick-btn">WHITEPAPER</a>
    </div>

    <div class="info-box">
        <div class="info-left">
            <div class="info-title">Global Situational Awareness</div>
            <p class="info-text">GEOINT.WORLD is a geospatial intelligence (GEOINT) and OSINT platform providing
                real-time visualization and tracking of global assets across air, sea, space, and communications
                domains. By fusing data from multiple intelligence sources, we deliver a unified 3D operational picture
                that enables you to track vessels, identify flight paths, monitor satellite passes, analyze
                communication networks, and correlate signals across multiple domains.</p>
        </div>
        <div class="features">
            <div class="feat"><span class="feat-icon">[+]</span>Live Airplane Tracking</div>
            <div class="feat"><span class="feat-icon">[+]</span>Ship & Boat Location Tracking</div>
            <div class="feat"><span class="feat-icon">[+]</span>Satellite Tracking</div>
            <div class="feat"><span class="feat-icon">[+]</span>Radio Station Finder</div>
            <div class="feat"><span class="feat-icon">[+]</span>Undersea Internet Cable Map</div>
            <div class="feat"><span class="feat-icon">[+]</span>Community Radio Network Tracking</div>
            <div class="feat"><span class="feat-icon">[+]</span>Search Everything at Once</div>
        </div>
    </div>

    <div class="info-box" style="margin-top: 20px; display: block;">
        <div class="info-left"
            style="width: 100%; border-right: none; border-bottom: 1px solid rgba(255, 104, 0, 0.2);">
            <div class="info-title">Prediction Market Insight</div>
            <p class="info-text">Harness the power of collective intelligence. We integrate real-time data from global
                prediction markets like Polymarket to forecast geopolitical events, conflicts, and elections with
                probability-based accuracy.</p>
        </div>
        <div class="features"
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 15px;">
            <div class="feat" style="margin-bottom: 0;"><span class="feat-icon">[+]</span>Real-time Odds</div>
            <div class="feat" style="margin-bottom: 0;"><span class="feat-icon">[+]</span>Geopolitical Forecasts</div>
            <div class="feat" style="margin-bottom: 0;"><span class="feat-icon">[+]</span>Conflict Probability</div>
            <div class="feat" style="margin-bottom: 0;"><span class="feat-icon">[+]</span>Election Analysis</div>
            <div class="feat" style="margin-bottom: 0;"><span class="feat-icon">[+]</span>Sentiment Metrics</div>
            <div class="feat" style="margin-bottom: 0;"><span class="feat-icon">[+]</span>Historical Trends</div>
            <div class="feat" style="margin-bottom: 0;"><span class="feat-icon">[+]</span>Crowd Intelligence</div>
            <div class="feat" style="margin-bottom: 0;"><span class="feat-icon">[+]</span>Probability Engines</div>
            <div class="feat" style="margin-bottom: 0;"><span class="feat-icon">[+]</span>Risk Modeling</div>
        </div>
    </div>

    <div class="info-box" style="margin-top: 20px;">
        <div class="info-left">
            <div class="info-title">Global Event Monitoring</div>
            <p class="info-text">Real-time analysis of global news and events using the GDELT Project. We track breaking
                news, sentiment, and conflict data from every country, providing a pulse on planetary stability.</p>
        </div>
        <div class="features" style="display: grid; grid-template-columns: 1fr; gap: 10px; align-content: center;">
            <div
                style="border: 1px solid rgba(255,104,0,0.3); background: rgba(255,104,0,0.05); padding: 15px; display: flex; align-items: flex-start; gap: 15px;">
                <div style="flex-shrink: 0; text-align: center; width: 80px;">
                    <div
                        style="font-size: 1.8rem; font-weight: bold; color: #fff; text-shadow: 0 0 10px rgba(255,104,0,0.5);">
                        350+</div>
                    <div style="font-size: 0.7rem; letter-spacing: 1px; color: var(--primary);">LANGUAGES</div>
                </div>
                <div style="font-size: 0.85rem; color: #ccc; line-height: 1.4;">
                    Tracks news and events across more than 350 languages, so you don’t miss region-specific reporting
                    or non‑English sources.
                </div>
            </div>
            <div
                style="border: 1px solid rgba(255,104,0,0.3); background: rgba(255,104,0,0.05); padding: 15px; display: flex; align-items: flex-start; gap: 15px;">
                <div style="flex-shrink: 0; text-align: center; width: 80px;">
                    <div
                        style="font-size: 1.8rem; font-weight: bold; color: #fff; text-shadow: 0 0 10px rgba(255,104,0,0.5);">
                        ALL</div>
                    <div style="font-size: 0.7rem; letter-spacing: 1px; color: var(--primary);">COUNTRIES</div>
                </div>
                <div style="font-size: 0.85rem; color: #ccc; line-height: 1.4;">
                    Event streams geo-tagged to all recognized countries and territories for truly global situational
                    awareness.
                </div>
            </div>
            <div
                style="border: 1px solid rgba(255,104,0,0.3); background: rgba(255,104,0,0.05); padding: 15px; display: flex; align-items: flex-start; gap: 15px;">
                <div style="flex-shrink: 0; text-align: center; width: 80px;">
                    <div
                        style="font-size: 1.8rem; font-weight: bold; color: #fff; text-shadow: 0 0 10px rgba(255,104,0,0.5);">
                        15m</div>
                    <div style="font-size: 0.7rem; letter-spacing: 1px; color: var(--primary);">UPDATES</div>
                </div>
                <div style="font-size: 0.85rem; color: #ccc; line-height: 1.4;">
                    New events ingested and scored roughly every 15 minutes, giving you near real-time visibility into
                    emerging crises.
                </div>
            </div>
        </div>
    </div>

    <div class="version"><a href="legal.html?from=index">LEGAL</a> | <a
            href="mailto:CONTACT@GEOINT.WORLD">CONTACT@GEOINT.WORLD</a></div>

    <script>
        const GFW_TOKEN = "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImtpZEtleSJ9.eyJkYXRhIjp7Im5hbWUiOiJHRU9PU0lOVCIsInVzZXJJZCI6NTM5NzUsImFwcGxpY2F0aW9uTmFtZSI6IkdFT09TSU5UIiwiaWQiOjM4NTksInR5cGUiOiJ1c2VyLWFwcGxpY2F0aW9uIn0sImlhdCI6MTc2NTE4NzI2MiwiZXhwIjoyMDgwNTQ3MjYyLCJhdWQiOiJnZnciLCJpc3MiOiJnZncifQ.YT2lu3U1xwPOc1Vn5MIOsMIAPxBbM8_qsexKJQnFDUrHg5qJNuuiHRwnvoujmJMJIragZaELdQcg9Dl20kLc1BTHkzD_q6wui75Ko7SCxhImKlSCo1dOG5bsyPZ36FpKQY_EYztlWrymxMIFz1p_qDVWUfxhg7_fVFtTdIiAQaT91jlOPRJxNiiK2z94RahnpyIQXJOyfWdsPlUj3mzZWy1VT-iXdcNVldw4GdgNybASR6yTu_ikgKoDWH9Nfe0NkKd5PDdytUgjyYS6kQnBnZCEz6yr07yRFvhk8dBNbJvgKbzX5P1PmjylldlgsUdFyNg8MKE2o0kqNBdMTNCzmoCIK8K8ZNwCSQ-_oDoU5kpOdHxRY5qldnzPl8NgqIPjngCPMBYIu49YSPF3qvNDIVMMmfU-IdT9JSSkTV4fTbHOdsNq4ZwJi_v8AdX3FNfMQ3KnsUxF__QcpE4JxxtB-XW_Bbv3sZzyBtSyz50K_KV2OLTzTmNNSIKmWOe7GEQ";
        const stats = { air: null, space: null, sea: null, mesh: null, radio: null };
        const term = document.getElementById('terminal');
        let idx = 0, char = 0;

        async function tryFetch(urls, opts = {}, transform) {
            for (const url of urls) {
                try {
                    const r = await fetch(typeof url === 'function' ? url() : url, opts);
                    if (r.ok) return transform(await (opts.json !== false ? r.json() : r.text()));
                } catch { }
            }
            return null;
        }

        async function fetchStats() {
            const start = performance.now();

            // Aircraft
            tryFetch(['https://opensky-network.org/api/states/all'], {}, d => stats.air = d.states?.length);

            // Space
            tryFetch(['https://celestrak.org/NORAD/elements/gp.php?GROUP=active&FORMAT=tle'], { json: false },
                t => stats.space = t.split('\n').filter(l => l.startsWith('1 ')).length);

            // Maritime
            const end = new Date(), start_d = new Date(end - 864e6);
            const params = `start-date=${start_d.toISOString()}&end-date=${end.toISOString()}&limit=1&datasets[0]=public-global-fishing-events:latest`;
            tryFetch([`https://gateway.api.globalfishingwatch.org/v3/events?${params}`],
                { headers: { Authorization: `Bearer ${GFW_TOKEN}` } },
                d => stats.sea = d.entries ? 'ACTIVE' : null);

            // Mesh
            const proxies = ['https://api.codetabs.com/v1/proxy?quest=', 'https://api.cors.lol/?url=', 'https://api.allorigins.win/raw?url='];
            tryFetch(proxies.map(p => p + encodeURIComponent('https://meshmap.net/nodes.json')), {},
                d => stats.mesh = Object.keys(d).length);

            // Radio
            const servers = ['de1', 'de2', 'at1', 'nl1'].map(s => `https://${s}.api.radio-browser.info/json/stations/search?limit=10000&has_geo_info=true`);
            tryFetch(servers, { headers: { 'User-Agent': 'GEO-OSINT/1.0' } },
                d => stats.radio = d.length >= 10000 ? '10,000+' : d.length);

            document.getElementById('latency').textContent = Math.round(performance.now() - start) + 'MS';
        }

        function getMessages() {
            const msgs = [];
            if (stats.air) msgs.push(`TRACKING ${stats.air.toLocaleString()} ACTIVE AIRCRAFT`);
            if (stats.space) msgs.push(`MONITORING ${stats.space.toLocaleString()} ORBITAL ASSETS`);
            if (stats.sea) msgs.push(`MARITIME SENSORS: ${stats.sea}`);
            if (stats.radio) msgs.push(`RADIO SPECTRUM: ${stats.radio.toLocaleString?.()} STATIONS`);
            if (stats.mesh) msgs.push(`MESH NETWORK: ${stats.mesh.toLocaleString()} NODES`);
            return msgs.length ? msgs : ['INITIALIZING SENSORS...'];
        }

        let currentMsg = null; // Cache current message during typing

        function typeLoop() {
            // Only fetch new message at the start of a typing cycle
            if (char === 0 || currentMsg === null) {
                const msgs = getMessages();
                idx %= msgs.length;
                currentMsg = msgs[idx];
            }

            if (char < currentMsg.length) {
                term.textContent += currentMsg[char++];
                setTimeout(typeLoop, 40);
            } else {
                setTimeout(eraseLoop, 2000);
            }
        }

        function eraseLoop() {
            if (term.textContent.length) {
                term.textContent = term.textContent.slice(0, -1);
                setTimeout(eraseLoop, 20);
            } else {
                idx++;
                char = 0;
                currentMsg = null; // Reset to fetch new message
                setTimeout(typeLoop, 500);
            }
        }


        async function prefetchApp() {
            const assets = [
                'datamap.html',
                'css/style.css',
                'js/utils.js',
                'js/globals.js',
                'js/flights.js',
                'js/space.js',
                'js/ships.js',
                'js/radio.js',
                'js/cables.js',
                'js/map.js',
                'js/ui.js',
                'js/news.js'
            ];

            // Prefetch user location for instant map loading
            try {
                const locResponse = await fetch('https://ipapi.co/json/');
                if (locResponse.ok) {
                    const locData = await locResponse.json();
                    if (locData.latitude && locData.longitude) {
                        sessionStorage.setItem('userLocation', JSON.stringify({
                            lat: locData.latitude,
                            lng: locData.longitude,
                            city: locData.city,
                            country: locData.country_code
                        }));
                        console.log(`SYS: Location pre-cached [${locData.city}, ${locData.country_code}]`);
                    }
                }
            } catch (e) {
                console.log('SYS: Location pre-fetch skipped');
            }

            // Give the lander some breathing room before prefetching assets
            setTimeout(() => {
                assets.forEach(asset => {
                    const link = document.createElement('link');
                    link.rel = 'prefetch';
                    const cacheBusters = {
                        'datamap.html': 'v=120',
                        'css/style.css': 'v=120',
                        'js/utils.js': 'v=120',
                        'js/polymarket.js': 'v=120',
                        'js/globals.js': 'v=120',
                        'js/flights.js': 'v=120',
                        'js/space.js': 'v=120',
                        'js/ships.js': 'v=120',
                        'js/radio.js': 'v=120',
                        'js/cables.js': 'v=120',
                        'js/map.js': 'v=120',
                        'js/ui.js': 'v=120',
                        'js/news.js': 'v=120'
                    };
                    const version = cacheBusters[asset] || 'v=1';
                    link.href = asset + '?' + version;
                    document.head.appendChild(link);
                });
                console.log('SYS: Application pre-fetch sequence complete.');
            }, 3000);
        }

        fetchStats();
        setInterval(fetchStats, 120000);
        setTimeout(typeLoop, 1000);
        prefetchApp(); // Start pre-fetching app assets in background
    </script>
    <script src="js/utils.js?v=120"></script>
    <script src="js/globals.js?v=120"></script>
    <script src="js/news.js?v=120" defer></script>
    <script src="js/polymarket.js?v=120" defer></script>
</body>

</html>